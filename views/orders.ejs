<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZozoMart | Orders</title>
  <style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
:root {
    --bg: #ffffff;
    --panel: #f7f8fc;
    --card: #ffffff;
    --accent: #ff5c8a;
    --accent-2: #ff8fb1;
    --text: #1f2430;
    --muted: #6b7280;
    --border: #e5e7eb;
    --shadow: 0 12px 30px rgba(17, 24, 39, 0.08);
    --radius: 16px;
}
* { box-sizing: border-box; }
body { margin:0; font-family:'Poppins',sans-serif; background: radial-gradient(circle at 20% 20%, rgba(255,92,138,0.08), transparent 35%), radial-gradient(circle at 80% 10%, rgba(255,143,177,0.12), transparent 32%), linear-gradient(135deg, #ffffff, #fdf3f7 45%, #ffffff); color: var(--text); min-height:100vh; }
.shell { max-width: 1100px; margin: 0 auto; padding: 24px; }
.nav { display:flex; align-items:center; justify-content:space-between; background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:12px 18px; box-shadow: var(--shadow); }
.brand { display:flex; align-items:center; gap:10px; font-weight:700; }
.brand .dot { width:12px; height:12px; border-radius:50%; background: linear-gradient(135deg, var(--accent), var(--accent-2)); box-shadow: 0 0 10px rgba(255,92,138,0.6); }
.nav-links { display:flex; gap:14px; flex-wrap:wrap; align-items:center; }
.nav-links a { padding:8px 14px; border-radius:10px; color:var(--text); font-weight:500; }
.cart-link { position:relative; display:inline-flex; align-items:center; gap:6px; }
.cart-badge { display:inline-flex; align-items:center; justify-content:center; min-width:20px; height:20px; padding:2px 6px; border-radius:999px; background:#16804a; color:#fff; font-size:12px; font-weight:700; }
.card { background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:16px; box-shadow: var(--shadow); }
.muted { color: var(--muted); }
.order-item { display:flex; gap:10px; align-items:center; margin-bottom:10px; }
.order-item img { width:54px; height:54px; object-fit:cover; border-radius:10px; border:1px solid var(--border); }
.summary-row { display:flex; justify-content:space-between; margin:6px 0; }
  </style>
</head>
<body>
  <div class="shell">
    <nav class="nav">
      <div class="brand">
        <span class="dot"></span>
        ZozoMart
      </div>
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/shopping">Shop</a>
        <a href="/cart" class="cart-link">Cart <% if (cartCount > 0) { %><span class="cart-badge"><%= cartCount %></span><% } %></a>
        <a class="pill" href="/logout">Logout</a>
      </div>
    </nav>

    <div class="card" style="margin-top:20px;">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <h2 style="margin:0;">Order</h2>
        <% if (order && order.date) { %><span class="muted">Placed: <%= new Date(order.date).toLocaleString() %></span><% } %>
      </div>
      <% if (!order) { %>
        <p class="muted">No recent order. <a href="/shopping">Shop now</a>.</p>
      <% } else { %>
        <div style="margin-top:12px;">
          <% order.items.forEach(function(item){ %>
            <div class="order-item">
              <img src="/images/<%= item.image %>" alt="<%= item.productName %>">
              <div style="flex:1;">
                <div style="font-weight:700;"><%= item.productName %></div>
                <div class="muted">Qty: <%= item.quantity %></div>
              </div>
              <div style="font-weight:700;">$ <%= (item.price * item.quantity).toFixed(2) %></div>
            </div>
          <% }) %>
        </div>
        <div class="summary-row"><span>Subtotal</span><span>$ <%= order.subtotal.toFixed(2) %></span></div>
        <div class="summary-row"><span>Shipping</span><span>$ <%= order.shippingCost.toFixed(2) %></span></div>
        <div class="summary-row" style="font-weight:700;"><span>Total</span><span>$ <%= order.total.toFixed(2) %></span></div>
        <div class="summary-row"><span>Shipping option</span><span><%= order.shipping.option === 'delivery' ? 'Doorstep delivery' : 'Store pickup' %></span></div>
        <div class="summary-row"><span>Payment</span><span><%= order.shipping.payment === 'card' ? 'Card' : 'PayNow' %></span></div>
        <div class="summary-row"><span>Contact</span><span><%= order.shipping.contact || '-' %></span></div>
        <div class="summary-row"><span>Address</span><span><%= order.shipping.address || '-' %></span></div>
        <div style="margin-top:14px;">
          <a class="pill" href="/shopping">Back to shopping</a>
        </div>
      <% } %>
    </div>
  </div>
</body>
</html>
