<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZozoMart | Update Product</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="shell">
            <nav class="nav">
      <div class="brand">
        <span class="dot"></span>
        ZozoMart
      </div>
            <div class="nav-links">
        <a href="/admin/dashboard">📊 Dashboard</a>
        <a href="/inventory">📦 Inventory</a>
        <a href="/admin/users">👥 Users</a>
        <a href="/admin/orders">📑 Orders</a>
        <details class="user-menu">
          <summary>👤 <%= user.username %> ▾</summary>
          <div class="dropdown">
            <a href="/logout">Logout</a>
          </div>
        </details>
      </div>
      </div>
    </nav>

    <div class="hero-card" style="margin-top:20px; max-width: 640px;">
      <div class="section-head">
        <h2>Update product</h2>
        <span class="muted">ID: <%= product ? product.id : '' %></span>
      </div>
      <% if (product) { %>
        <form action="/updateProduct/<%= product.id %>" method="POST" enctype="multipart/form-data" style="display:flex; flex-direction:column; gap:12px;">
          <label>Product Name
            <input type="text" name="name" value="<%= product.productName %>" required style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px;">
          </label>
          <label>Stock
            <input type="number" name="stock" min="0" step="1" value="<%= product.stock %>" required style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px;">
          </label>
          <label>Price
            <input type="number" name="price" min="0" step="0.01" value="<%= product.price %>" required style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px;">
          </label>
          <label>Category
            <input type="text" name="category" value="<%= product.category %>" required style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px;">
          </label>
          <label>Description
            <textarea name="description" required style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px;" rows="3"><%= product.description %></textarea>
          </label>
          <label>Dietary
            <input type="text" name="dietary" value="<%= product.dietary %>" required style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px;">
          </label>
          <label>Current Image
            <input type="text" name="currentImage" value="<%= product.image %>" readonly style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px; background:#f9fafb;">
            <img src="/images/<%= product.image %>" alt="<%= product.productName %>" style="width:140px; margin-top:8px; border-radius:10px; border:1px solid var(--border);">
          </label>
          <label>Upload New Image
            <input type="file" name="image" accept="image/*" style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; margin-top:6px;">
          </label>
          <div class="cta-row">
            <button class="cta" type="submit">Update product</button>
            <a class="cta secondary" href="/inventory">Back to inventory</a>
          </div>
        </form>
      <% } else { %>
        <p>No product found.</p>
        <a class="pill-action" href="/inventory">Back</a>
      <% } %>
    </div>
  </div>
</body>
</html>
























